@using PagedList.Mvc;
@using Disk1.Models.bd;
@using Disk1.Helpers;

@model PagedList.IPagedList<CNAP>

@{
    ViewBag.Title = "Правий";
}

<div class="row">
    <div class="col-sm-12" style="text-align:center;">
        <h3>Правий</h3>
    </div>
</div>
<div style="text-align:center">
    @Html.PagedListPager(Model, page => Url.Action("RightCity", "Home", new { page }))
</div>
<div class="table-responsive">
    <table class="table" border="1" style="border-collapse: separate;">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.FirstOrDefault().FIO)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FirstOrDefault().Address)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FirstOrDefault().Gave)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FirstOrDefault().Got)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FirstOrDefault().Who)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FirstOrDefault().Comment)
            </th>
        </tr>

        @foreach (CNAP item in Model)
        {
            if (string.IsNullOrEmpty(item.Got.ToString()))
            {
                <tr style="background-color:rgba(164, 194, 244, 0.65);">
                    <td>
                        @Html.DisplayFor(modelItem => item.FIO)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Address)
                    </td>
                    <td>
                        @String.Format("{0:dd/MM/yyyy}", item.Gave)

                    </td>
                    <td>
                        @String.Format("{0:dd/MM/yyyy}", item.Got)
                    </td>
                    <td>
                        @WhoHelper.Who(Html, item.Who)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Comment)
                    </td>
                </tr>
                continue;
            }
            <tr style="background-color:rgba(255, 217, 102, 1);">
                <td>
                    @Html.DisplayFor(modelItem => item.FIO)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Address)
                </td>
                <td>
                    @String.Format("{0:dd/MM/yyyy}", item.Gave)

                </td>
                <td>
                    @String.Format("{0:dd/MM/yyyy}", item.Got)
                </td>
                <td>
                    @WhoHelper.Who(Html, item.Who)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Comment)
                </td>
            </tr>

        }
    </table>
</div>
<div style="text-align:center">
    @Html.PagedListPager(Model, page => Url.Action("RightCity", "Home", new { page }))
</div>